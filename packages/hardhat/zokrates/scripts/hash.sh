#!/bin/sh

set -e

zokrates compile -i hash.zok

zokrates setup

# Witness:
# ["170182214344248262743875842268458924265","328290459558775877067013334726075520138"]
# Witness:
# ["6","9","12656524180774443716655281550125558729","242676342536676470879355435106254454231"]
# ["6","9","12656524180774443716655281550125558729","242676342536676470879355435106254454231","6","9","214450978146198387743640765818875709928","260419751587602030356938405522219108246"]

# i * 1111
nullifier="2222"
# nullifierHash1="41164050820870916183935771838056553770"
# nullifierHash2="28115810686032597364107573816858205745"
guess="42000"
# myHashedGuess=183506989389562992426801284225335976752
# myHashedGuess=69937380509560656757400495197482346271
# merkleRoot1="197478980958800774366555030189174383699"
# merkleRoot2="333777766013274344080455511007308121981"

# zokrates compute-witness -a 12345 "119367318651930109760477653594955193485" "231225790951535588255699701999828082646" --verbose
# zokrates compute-witness -a $nullifier $nullifierHash1 $nullifierHash2 $guess $merkleRoot1 $merkleRoot2 --verbose
zokrates compute-witness -a $guess $nullifier --verbose

zokrates generate-proof

zokrates verify

# zokrates export-verifier

# mv verifier.sol ../contracts/Verifier.sol